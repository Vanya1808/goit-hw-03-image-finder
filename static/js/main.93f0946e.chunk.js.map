{"version":3,"sources":["components/ImageGalleryItem.js","components/Modal.js","components/ImageGallery.js","components/Searchbar.js","components/Button.js","components/Loader.js","App.js","index.js"],"names":["ImageGalleryItem","openModal","props","largeImageURL","this","webformatURL","id","className","src","alt","onClick","Component","propDefault","Modal","removeListener","e","key","onClose","clickToOverlay","window","addEventListener","removeEventListener","url","ImageGallery","state","isOpen","setState","prev","closeModal","picture","map","i","Searchbar","qwery","handleChange","target","value","handleSubmit","preventDefault","getQwery","claerForm","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","Buttton","clickToBtn","getMore","Loader","width","height","viewBox","xmlns","stroke","aria-label","fill","fillRule","transform","strokeWidth","strokeOpacity","cx","cy","r","d","attributeName","from","to","dur","repeatCount","App","info","page","content","isOpenLoader","goToBootm","scrollTo","top","document","documentElement","scrollHeight","behavior","handleGetQwery","q","changeLoader","callToServer","then","data","hits","finally","fetch","response","json","handleGetMore","bool","prevProps","prevState","length","Button","ReactDOM","render","StrictMode","getElementById"],"mappings":"gRAGMA,G,kNACJC,UAAY,WACV,EAAKC,MAAMD,UAAU,EAAKC,MAAMC,gB,uDAGxB,IAAD,EACsBC,KAAKF,MAA1BG,EADD,EACCA,aAAcC,EADf,EACeA,GACtB,OACE,oBAAIC,UAAU,mBAAmBD,GAAIA,EAArC,SACE,qBAAKE,IAAKH,EAAcI,IAAI,GAAGF,UAAU,yBAAyBG,QAASN,KAAKH,kB,GATzDU,cAoB/BX,EAAiBY,YAAc,CAC7BP,aAAc,4EAGDL,QCxBTa,E,4MASJC,eAAgB,SAACC,GACL,WAAVA,EAAEC,KAAoB,EAAKd,MAAMe,W,EAGnCC,eAAiB,WACf,EAAKhB,MAAMe,W,kEAZXE,OAAOC,iBAAiB,UAAWhB,KAAKU,kB,6CAIxCK,OAAOE,oBAAoB,UAAWjB,KAAKU,kB,+BAY3C,OACE,qBAAKP,UAAU,UAAUG,QAASN,KAAKc,eAAvC,SACE,qBAAKX,UAAU,QAAf,SACE,qBAAKC,IAAKJ,KAAKF,MAAMoB,IAAKb,IAAI,oB,GArBpBE,aAgCpBE,EAAMD,YAAc,CAClBU,IAAK,4EAGQT,QCAAU,E,4MAhCbC,MAAQ,CACNC,QAAQ,EACRH,IAAK,I,EAGPrB,UAAY,SAACqB,GACX,EAAKI,UAAS,SAACC,GAAD,MAAW,CAAEF,QAASE,EAAKF,OAAQH,IAAKA,O,EAGxDM,WAAa,WACX,EAAKF,UAAS,SAACC,GAAD,MAAW,CAAEF,QAASE,EAAKF,Y,uDAGjC,IAAD,OACP,OACE,qCACE,oBAAIlB,UAAU,eAAd,SACGH,KAAKF,MAAM2B,QAAQC,KAAI,SAACf,EAAGgB,GAC1B,OAAO,cAAC,EAAD,CAA0BzB,GAAIS,EAAET,GAAID,aAAcU,EAAEV,aAAcF,cAAeY,EAAEZ,cAAeF,UAAW,EAAKA,WAA3F8B,QAIjC3B,KAAKoB,MAAMC,QAAU,cAAC,EAAD,CAAOH,IAAKlB,KAAKoB,MAAMF,IAAKL,QAASb,KAAKwB,oB,GAvB7CjB,aC0CZqB,E,4MA7CbR,MAAQ,CACNS,MAAO,I,EAGTC,aAAe,SAACnB,GACd,EAAKW,SAAS,CAAEO,MAAOlB,EAAEoB,OAAOC,S,EAGlCC,aAAe,SAACtB,GACdA,EAAEuB,iBAEmB,KAArB,EAAKd,MAAMS,OACX,EAAK/B,MAAMqC,SAAS,EAAKf,MAAMS,OAC/B,EAAKO,a,EAGPA,UAAY,WACV,EAAKd,SAAS,CACZO,MAAO,M,uDAKT,OACE,wBAAQ1B,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAakC,SAAUrC,KAAKiC,aAA5C,UACE,wBAAQK,KAAK,SAASnC,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVmC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZT,MAAOhC,KAAKoB,MAAMS,MAClBa,SAAU1C,KAAK8B,wB,GAtCHvB,aCgBToC,E,4MAfbC,WAAa,WACX,EAAK9C,MAAM+C,W,uDAIX,OACE,mCACE,wBAAQ1C,UAAU,SAASG,QAASN,KAAK4C,WAAzC,6B,GARcrC,aCuCPuC,E,uKApCX,OACE,mCACE,qBACE3C,UAAU,SACV4C,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,MAAM,6BACNC,OAAO,UACPC,aAAW,gBAPb,SASE,mBAAGC,KAAK,OAAOC,SAAS,UAAxB,SACE,oBAAGC,UAAU,iBAAiBC,YAAY,IAA1C,UACE,wBAAQC,cAAc,KAAKC,GAAG,KAAKC,GAAG,KAAKC,EAAE,OAC7C,sBAAMC,EAAE,8BAAR,SACE,kCACEC,cAAc,YACdxB,KAAK,SACLyB,KAAK,UACLC,GAAG,YACHC,IAAI,KACJC,YAAY,8B,GAvBT3D,aCuFN4D,E,4MAjFb/C,MAAQ,CACNgD,KAAM,CACJvC,MAAO,GACPwC,KAAM,GAERC,QAAS,GAETC,cAAc,G,EAGhBC,UAAY,WACVzD,OAAO0D,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,Y,EAIdC,eAAiB,SAACC,GAChB,EAAK1D,SAAS,CAAE8C,KAAM,CAAEvC,MAAOmD,EAAGX,KAAM,KAExC,EAAKY,cAAa,GAClB,EAAKC,aAAaF,EAAG,GAClBG,MAAK,SAACC,GACL,EAAK9D,SAAS,CAAEgD,QAAQ,YAAKc,EAAKC,WAEnCC,SAAQ,WACP,EAAKL,cAAa,O,EAIxBC,aAAe,SAACF,EAAGX,GACjB,IACInD,EAAG,qCAAiC8D,EAAjC,uBADG,qCACH,qEAAiHX,GAExH,OAAOkB,MAAMrE,GACViE,MAAK,SAACK,GAAD,OAAcA,EAASC,UAC5BN,MAAK,SAACC,GAEL,OAAOA,M,EAIbM,cAAgB,WAAO,IAAD,EACI,EAAKtE,MAAMgD,KAA3BvC,EADY,EACZA,MAAOwC,EADK,EACLA,KACf,EAAK/C,UAAS,SAACC,GAAD,MAAW,CAAE6C,KAAM,CAAEC,KAAM9C,EAAK6C,KAAKC,KAAO,EAAGxC,MAAON,EAAK6C,KAAKvC,WAE9E,EAAKoD,cAAa,GAElB,EAAKC,aAAarD,EAAOwC,GACtBc,MAAK,SAACC,GACL,EAAK9D,UAAS,SAACC,GAAD,MAAW,CAAE+C,QAAQ,GAAD,mBAAM/C,EAAK+C,SAAX,YAAuBc,EAAKC,cAE/DC,SAAQ,WACP,EAAKL,cAAa,O,EAIxBA,aAAe,SAACU,GACdA,GAAQ,EAAKnB,YACb,EAAKlD,SAAS,CAAEiD,aAAcoB,K,iEAGbC,EAAWC,GAE5B,OADAA,EAAUvB,UAAYtE,KAAKoB,MAAMkD,SAAWtE,KAAKwE,YAC1CqB,EAAUvB,UAAYtE,KAAKoB,MAAMkD,U,+BAIxC,OACE,qCACE,cAAC,EAAD,CAAWnC,SAAUnC,KAAK+E,iBAC1B,cAAC,EAAD,CAActD,QAASzB,KAAKoB,MAAMkD,UAEH,IAA9BtE,KAAKoB,MAAMkD,QAAQwB,QAAgB,cAACC,EAAD,CAAQlD,QAAS7C,KAAK0F,gBAEzD1F,KAAKoB,MAAMmD,cAAgB,cAAC,EAAD,W,GA5ElBhE,aCDlByF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFvB,SAASwB,eAAe,W","file":"static/js/main.93f0946e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  openModal = () => {\r\n    this.props.openModal(this.props.largeImageURL)\r\n  }\r\n\r\n  render() {\r\n    const { webformatURL, id } = this.props;\r\n    return (\r\n      <li className=\"ImageGalleryItem\" id={id}>\r\n        <img src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" onClick={this.openModal}/>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes  = {\r\n  webformatURL: PropTypes.string,\r\n  id: PropTypes.number,\r\n}\r\n\r\nImageGalleryItem.propDefault = {\r\n  webformatURL: 'https://cdn.icon-icons.com/icons2/1489/PNG/512/loadingcircles_102612.png'\r\n}\r\n\r\nexport default ImageGalleryItem;","import React, { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount(){\r\n    window.addEventListener('keydown', this.removeListener)\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    window.removeEventListener('keydown', this.removeListener)\r\n  }\r\n\r\n  removeListener= (e) => {\r\n    e.key === 'Escape' && this.props.onClose()\r\n  }\r\n\r\n  clickToOverlay = () => {\r\n    this.props.onClose()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.clickToOverlay}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.url} alt='loading' />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes  = {\r\n  url: PropTypes.string,\r\n}\r\n\r\nModal.propDefault = {\r\n  url: 'https://cdn.icon-icons.com/icons2/1489/PNG/512/loadingcircles_102612.png'\r\n}\r\n\r\nexport default Modal;","import React, { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport Modal from \"./Modal\";\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    isOpen: false,\r\n    url: '',\r\n  }\r\n\r\n  openModal = (url) => {\r\n    this.setState((prev) => ({ isOpen: !prev.isOpen, url: url }))\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState((prev) => ({ isOpen: !prev.isOpen }))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <ul className=\"ImageGallery\">\r\n          {this.props.picture.map((e, i) => {\r\n            return <ImageGalleryItem key={i} id={e.id} webformatURL={e.webformatURL} largeImageURL={e.largeImageURL} openModal={this.openModal}/>;\r\n          })}\r\n        </ul>\r\n\r\n        {this.state.isOpen && <Modal url={this.state.url} onClose={this.closeModal}/>}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes  = {\r\n  picture: PropTypes.array,\r\n}\r\n\r\nexport default ImageGallery;","import React, { Component } from \"react\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    qwery: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ qwery: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.state.qwery !== '' &&\r\n    this.props.getQwery(this.state.qwery)\r\n    this.claerForm()\r\n  };\r\n\r\n  claerForm = () => {\r\n    this.setState({\r\n      qwery: \"\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.qwery}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import React, { Component } from \"react\";\r\n\r\nclass Buttton extends Component {\r\n  clickToBtn = () => {\r\n    this.props.getMore();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <button className=\"Button\" onClick={this.clickToBtn}>\r\n          Load More\r\n        </button>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Buttton;","import React, { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Loader extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <svg\r\n          className='Loader'\r\n          width=\"80\"\r\n          height=\"80\"\r\n          viewBox=\"0 0 38 38\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          stroke=\"#00BFFF\"\r\n          aria-label=\"audio-loading\"\r\n        >\r\n          <g fill=\"none\" fillRule=\"evenodd\">\r\n            <g transform=\"translate(1 1)\" strokeWidth=\"2\">\r\n              <circle strokeOpacity=\".4\" cx=\"10\" cy=\"10\" r=\"10\"></circle>\r\n              <path d=\"M36 18c0-9.94-8.06-18-18-18\">\r\n                <animateTransform\r\n                  attributeName=\"transform\"\r\n                  type=\"rotate\"\r\n                  from=\"0 10 10\"\r\n                  to=\"150 10 10\"\r\n                  dur=\"1s\"\r\n                  repeatCount=\"indefinite\"\r\n                ></animateTransform>\r\n              </path>\r\n            </g>\r\n          </g>\r\n        </svg>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nLoader.propTypes  = {\r\n  url: PropTypes.string,\r\n}\r\n\r\nexport default Loader;","import React, { Component } from \"react\";\nimport \"./App.css\";\n\nimport ImageGallery from \"./components/ImageGallery\";\nimport Searchbar from \"./components/Searchbar\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\n\nclass App extends Component {\n  state = {\n    info: {\n      qwery: \"\",\n      page: 1,\n    },\n    content: [],\n\n    isOpenLoader: false,\n  };\n\n  goToBootm = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  handleGetQwery = (q) => {\n    this.setState({ info: { qwery: q, page: 2 } });\n\n    this.changeLoader(true);\n    this.callToServer(q, 1)\n      .then((data) => {\n        this.setState({ content: [...data.hits] });\n      })\n      .finally(() => {\n        this.changeLoader(false);\n      });\n  };\n\n  callToServer = (q, page) => {\n    let key = \"18650833-a90d8ca1012121c54ee062bd0\";\n    let url = `https://pixabay.com/api/?q=${q}&page=1&key=${key}&image_type=photo&orientation=horizontal&per_page=12&page=${page}`;\n\n    return fetch(url)\n      .then((response) => response.json())\n      .then((data) => {\n        //console.log(data);\n        return data;\n      });\n  };\n\n  handleGetMore = () => {\n    const { qwery, page } = this.state.info;\n    this.setState((prev) => ({ info: { page: prev.info.page + 1, qwery: prev.info.qwery } }));\n\n    this.changeLoader(true);\n\n    this.callToServer(qwery, page)\n      .then((data) => {\n        this.setState((prev) => ({ content: [...prev.content, ...data.hits] }));\n      })\n      .finally(() => {\n        this.changeLoader(false);\n      });\n  };\n\n  changeLoader = (bool) => {\n    bool && this.goToBootm();\n    this.setState({ isOpenLoader: bool });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    prevState.content !== this.state.content && this.goToBootm();\n    return prevState.content !== this.state.content;\n  }\n\n  render() {\n    return (\n      <>\n        <Searchbar getQwery={this.handleGetQwery} />\n        <ImageGallery picture={this.state.content} />\n\n        {this.state.content.length !== 0 && <Button getMore={this.handleGetMore} />}\n\n        {this.state.isOpenLoader && <Loader />}\n      </>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}